<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Inscription – Wav Generator</title>
<link rel="stylesheet" href="/assets/styles.css"/>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
<main class="container" style="max-width:720px">
  <div class="card hero">
    <div class="card-inner">
      <div class="brand"><span class="brand-badge"></span> Wav Generator</div>
      <h1 class="h1">Créer un compte</h1>
      <div class="separator"></div>
      <form id="form" class="list">
        <input class="input" type="email" name="email" placeholder="Email" required/>
        <input class="input" type="password" name="password" placeholder="Mot de passe (8+ caractères)" minlength="8" required/>
        <button class="btn" type="submit">S’inscrire</button>
        <p class="small">Déjà inscrit ? <a href="/login">Se connecter</a></p>
      </form>
    </div>
  </div>
</main>
<script src="/assets/app.js"></script>
<script>
document.getElementById("form").addEventListener("submit", async (e)=>{
  e.preventDefault();
  const email = e.target.email.value.trim();
  const password = e.target.password.value;
  try{
    await api("auth/signup", {method:"POST", body:{email,password}});
    location.href="/";
  }catch(err){ toast(err.message || "Erreur d’inscription","error"); }
});
</script>
</body>
</html>
